<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>spring相关总结 | frozeNwInd</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">spring相关总结</h1><a id="logo" href="/.">frozeNwInd</a><p class="description">吕乘风的博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-history"> 历史</i></a><a href="/MoonAndStar/"><i class="fa fa-heart"> MoonAndStar</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">spring相关总结</h1><div class="post-meta">2019-04-18<span> | </span><span class="category"><a href="/categories/technology/">technology</a></span></div><a class="disqus-comment-count" href="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/#vcomment"><span class="valine-comment-count" data-xid="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/"></span><span> 条评论</span></a><div class="post-content"><p>Spring概述</p>
<p>——什么是spring<br>Spring是一个开源框架。Spring为简化企业级应用开发而生，使用Spring可以使简单的JavaBean实现以前只有EJB才能实现的功能。Spring是JavaSE/EE的一站式(full-stack)框架。</p>
<p>——Spring的优点<br>方便解耦，简化开发。 Spring就是一个大工厂，可以将所有对象创建和依赖关系维护交给Spring管理。<br>AOP编程的支持。 Spring提供面向切面编程，可以方便的实现对程序进行权限拦截、运行监控等功能。<br>声明式事务的支持。 只需要通过配置就可以完成对事务的管理，而无需手动编程。<br>方便程序的测试。 对Junit4支持，可以通过注解方便的测试程序<br>方便集成各种优秀框架。 Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架(如struts、hibernate、mybatis等)的直接支持。<br>降低JavaEE API的使用难度。 Spring对JavaEE开发中非常难用的一些API(JDBC、JavaMail、远程调用等)，都提供了封装，使这些API应用难度大大降低。</p>
<p>Spring的IOC的底层原理实现<br><img src="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/Spring%E7%9A%84IOC%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0.png" alt="Spring的IOC的底层原理实现"><br><img src="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/SpringIOC%E5%85%A5%E9%97%A8.png" alt="SpringIOC入门"></p>
<p>Spring IOC入门<br>——下载Spring开发包<br>——复制Spring开发jar包到工程<br>——理解IOC控制反转和DI依赖注入<br>——编写Spring核心配置文件<br>——在程序中读取Spring配置文件，通过Spring框架获得Bean，完成相应操作</p>
<h3 id="spring整体架构"><a href="#spring整体架构" class="headerlink" title="spring整体架构"></a>spring整体架构</h3><p>Spring框架是一个分层架构，它包含一系列的功能要素，并被分为大约20个模块。</p>
<h4 id="1-Core-Container"><a href="#1-Core-Container" class="headerlink" title="(1)Core Container"></a>(1)Core Container</h4><p>Core Container(核心容器)包含有Core、Beans、Context和Expression Language模块。<br>Core和Beans模块是框架的基础部分，提供IoC和依赖注入特性。这里的基础概念是BeanFactory，它提供对Factory模式的经典实现来消除对程序性单例模式的需要，并真正地允许你从程序逻辑中分离出依赖关系和配置。</p>
<ol>
<li>Core模块。</li>
<li>Beans模块。</li>
<li>Context模块。</li>
<li>Expression Language模块。</li>
</ol>
<h4 id="2-Data-Access-Integration"><a href="#2-Data-Access-Integration" class="headerlink" title="(2)Data Access/Integration"></a>(2)Data Access/Integration</h4><p>Data Access/Integration层包含有JDBC、ORM、OXM、JMS和Transaction模块，其中：</p>
<ul>
<li>JDBC模块提供了一个JDBC抽象层，它可以消除冗长的JDBC编码和解析数据库厂商特有的错误代码。这个模块包含了Spring对JDBC数据访问进行封装的所有类。</li>
<li>ORM模块为流行的对象-关系映射API，如JPA、JDO、Hibernate、iBatis等，提供了一个交互层。利用ORM封装包，可以混合使用所有Spring提供的特性进行O/R映射。<br>Spring框架插入了若干个ORM框架，从而提供了ORM的对象关系工具，其中包括JDO、Hibernate和iBatisSQL  Map。所有这些都遵从Spring的通用事务和DAO异常层次结构。</li>
<li>OXM模块提供了一个对object/XML映射实现的抽象层。</li>
<li>JMS模块(java messaging service)</li>
<li>Transaction模块支持编程和声明性的事物管理，这些事物类必须实现特定的接口，并且对所有的POJO都适用。</li>
</ul>
<h4 id="3-Web"><a href="#3-Web" class="headerlink" title="(3)Web"></a>(3)Web</h4><p>Web上下文模块建立在应用程序上下文模块之上，为基于Web的应用程序提供了上下文。所以，Spring框架支持与Jakarta Struts的集成。Web模块还简化了处理多部分请求以及将请求参数绑定到域对象的工作。Web层包含了Web、Web-Servlet、Web-Struts和Web-Porlet模块。</p>
<ul>
<li>web</li>
<li>Web-Servlet</li>
<li>Web-Struts</li>
<li>Web-Porlet</li>
</ul>
<h4 id="4-AOP"><a href="#4-AOP" class="headerlink" title="(4)AOP"></a>(4)AOP</h4><p>AOP模块提供了一个符合AOP联盟标准的面向切面编程的实现，它让你可以定义例如方法拦截器和切点，从而将逻辑代码分开，降低它们之间的耦合性。利用source-level的元数据功能，还可以将各种行为信息合并到你的代码中，这有点像.Net技术中的attribute概念。<br>通过配置管理特性，SpringAOP模块直接将面向切面的编程功能集成到了Spring框架中，所以可以很容易地使Spring框架管理的任何对象支持AOP。SpringAOP模块为基于Spring的应用程序中的对象提供了事务管理服务。通过使用SpringAOP，不用依赖EJB组件，就可以将声明性事务管理集成到应用程序中。</p>
<ul>
<li>Aspects模块</li>
<li>Instrumentation模块</li>
</ul>
<h4 id="5-Test"><a href="#5-Test" class="headerlink" title="(5)Test"></a>(5)Test</h4><p>Test模块支持使用JUnit和TestNG对spring组件进行测试。</p>
<h3 id="Spring-IOC"><a href="#Spring-IOC" class="headerlink" title="Spring IOC"></a>Spring IOC</h3><h4 id="1-IOC理论的背景"><a href="#1-IOC理论的背景" class="headerlink" title="1.IOC理论的背景"></a>1.IOC理论的背景</h4><p>软件系统中对象之间的耦合关系，与齿轮组中齿轮之间的啮合关系非常相似。对象之间的耦合关系是无法避免的，也是必要的，这是协同工作的基础。随着工业级应用的规模越来越大，对象之间的依赖关系也越来越复杂，经常会出现对象之间的多重依赖性关系，对象之间耦合度过高的系统必然会出现牵一发而动全身的情形。<br>为了解决对象之间的耦合度过高的问题，软件专家Michael Mattson提出了IOC理论，用来实现对象之间的“解耦”。</p>
<h4 id="2-什么是控制反转-IOC"><a href="#2-什么是控制反转-IOC" class="headerlink" title="2.什么是控制反转(IOC)"></a>2.什么是控制反转(IOC)</h4><p>IOC是inversion of control的缩写。<br>面向对象的设计及编程的基本思想简单来说就是把复杂系统分解成相互合作的对象，这些对象类通过封装以后，内部实现对外部是透明的，从而降低了解决问题的复杂度，而且可以灵活地被重用和扩展。IOC理论提出的观点大体是这样的：借助于“第三方”实现具有依赖关系的对象之间的解耦。<br><img src="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/iocjieou.jpg" alt="IOC解耦过程"><br>由于引进了中间位置的“第三方”，也就是IOC容器，使得A、B、C、D这4个对象没有了耦合关系，齿轮之间的转动全部依靠“第三方”了，全部对象的控制权全部上交给“第三方”ioc容器，所以ioc容器成了整个系统的关键核心，它起到了一种类似“粘合剂”的作用，把系统中的所有对象粘合在一起发挥作用。<br><img src="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/iochou.jpg" alt="拿掉ioc容器后的系统"><br><img src="/2019/04/18/spring%E5%88%9D%E4%BD%93%E9%AA%8C/wuioc.jpg" alt="软件系统中耦合的对象"></p>
<p>软件系统在没有引入ioc容器之间，如上图所示，对象A依赖于对象B，那么对象A在初始化或者运行到某一点的时候，自己必须主动去创建对象B或者使用已经创建的对象B，无论是创建还是使用对象B，控制权都在自己手上。<br>软件系统在引入IOC容器之后，由于IOC容器的加入，对象A和对象B之间失去了直接联系，当对象A运行到需要对象B的时候，IOC容器会主动创建一个对象B注入到对象A需要的地方。<br>前后的对比，看到：对象A获得依赖对象B的过程，由主动行为变为了被动行为，控制权颠倒过来，这就是“控制反转”这个名称的由来。</p>
<h4 id="3-依赖注入-DI"><a href="#3-依赖注入-DI" class="headerlink" title="3.依赖注入(DI)"></a>3.依赖注入(DI)</h4><p>2004年，Martin Fowler探讨了同一个问题，既然IOC是控制反转，那么到底是“哪些方面的控制被反转了呢？”，经过详细地分析和论证后，他得出了答案：“获得依赖对象的过程被反转了”。控制被反转之后，获得依赖对象的过程由自身管理变为了由IOC容器主动注入。于是，他给“控制反转”取了一个更合适的名字叫做“依赖注入（Dependency Injection）”。他的这个答案，实际上给出了实现IOC的方法：注入。所谓的依赖注入，就是由IOC容器在运行期间，动态地将某种依赖关系注入到对象之中。<br>依赖注入DI和控制反转IOC是从不同的角度描述同一件事情，就是指通过引入IOC容器，利用依赖关系注入的方式，实现对象之间的解耦。<br>软件系统中的过程：对象A依赖于对象B,当对象 A需要用到对象B的时候，IOC容器就会立即创建一个对象B送给对象A。IOC容器就是一个对象制造工厂，你需要什么，它会给你送去，你直接使用就行了，而再也不用去关心你所用的东西是如何制成的，也不用关心最后是怎么被销毁的，这一切全部由IOC容器包办。<br>在传统的实现中，由程序内部代码来控制组件之间的关系。我们经常使用new关键字来实现两个组件之间关系的组合，这种实现方式会造成组件之间耦合。IOC很好地解决了该问题，它将实现组件间关系从程序内部提到外部容器，也就是说由容器在运行期将组件间的某种依赖关系动态注入组件中。</p>
<h4 id="4-IOC容器技术剖析"><a href="#4-IOC容器技术剖析" class="headerlink" title="4.IOC容器技术剖析"></a>4.IOC容器技术剖析</h4><p>IOC中最基本的技术就是“反射(Reflection)”编程。<br>有关反射的概念和用法，大家应该都很清楚，通俗来讲就是根据给出的类名（字符串方式）来动态地生成对象。<br>我们可以把IOC容器的工作模式看作是工厂模式的升华，可以把IOC容器看做是一个工厂，这个工厂里要生产的对象都在配置文件中给出定义，然后利用编程语言的反射编程，根据配置文件中给出的类名生成相应的对象。</p>
<h3 id="Spring事务管理"><a href="#Spring事务管理" class="headerlink" title="Spring事务管理"></a>Spring事务管理</h3><h3 id="Spring单例与线程安全"><a href="#Spring单例与线程安全" class="headerlink" title="Spring单例与线程安全"></a>Spring单例与线程安全</h3><p>单例模式是一种常用的软件设计模式。通过单例模式可以保证系统中一个类只有一个单例。Spring依赖注入时，使用了多重判断加锁的单例模式。</p>
</div><div id="donate"><link rel="stylesheet" type="text/css" href="/css/donate.css"><script type="text/javascript" src="/js/donate.js" successtext="复制成功!"></script><a class="pos-f tr3" id="github" target="_blank" rel="noopener" href="https://github.com/Kaiyuan/donate-page" arget="_blank" title="Github"></a><div id="DonateText">Donate</div><ul class="list pos-f" id="donateBox"><li id="AliPay" qr="/img/AliPayQR.png"></li><li id="WeChat" qr="/img/WeChatQR.png"></li></ul><div class="pos-f left-100" id="QRBox"><div id="MainBox"></div></div></div><div class="tags"><a href="/tags/spring/"><i class="fa fa-tag"></i>spring</a></div><div class="post-nav"><a class="pre" href="/2019/04/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/">数据结构与算法——复杂度分析</a><a class="next" href="/2019/04/13/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/">面向对象基础</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'NPvQJfh7XNHqMqbmVYOg5VE5-9Nh9j0Va',
  appKey:'hgOdKtBYlsJzigDKoXqevrSI',
  placeholder:'我想听你说一句… （留言请填写您的昵称和邮箱，方便回复以邮件形式通知您）',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://blog.frozenwind.online"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/emotion/">emotion</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">technology</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">随笔</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">java基础</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 15px;">并发</a> <a href="/tags/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">秒杀系统</a> <a href="/tags/java-web/" style="font-size: 15px;">java web</a> <a href="/tags/mybatis/" style="font-size: 15px;">mybatis</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 15px;">数据结构与算法</a> <a href="/tags/%E4%B8%80%E8%A8%80/" style="font-size: 15px;">一言</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">计算机网络</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15px;">微信小程序</a> <a href="/tags/%E8%AF%8D/" style="font-size: 15px;">词</a> <a href="/tags/%E6%83%85%E4%B9%A6/" style="font-size: 15px;">情书</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">操作系统</a> <a href="/tags/java%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 15px;">java虚拟机</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 15px;">消息队列</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E9%97%AE%E9%A2%98/" style="font-size: 15px;">系统问题</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/11/21/%E4%BB%8A%E5%A4%A9%E8%B5%B7%E7%9A%84%E6%AF%8F%E6%99%9A-%E4%BD%A0%E8%A6%81%E7%8F%8D%E6%83%9C%E5%B2%81%E6%9C%88/">今天起的每晚 你要珍惜岁月</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/24/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/">微信小程序开发记录—爱河</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/22/mysql%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93/">mysql索引相关总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/14/mybatis%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93/">mybatis相关总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/14/mybatis%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/">mybatis工作原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/08/java%E5%B9%B6%E5%8F%91%E2%80%94%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/">java并发—并发容器</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/08/java8%E2%80%94%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E5%92%8C%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95/">java8—接口中的静态方法和默认方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/07/java8%E2%80%94Stream-API/">java8—Stream API</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/07/java8%E2%80%94%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8%E4%B8%8E%E6%9E%84%E9%80%A0%E5%99%A8%E5%BC%95%E7%94%A8/">java8—方法引用与构造器引用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/07/java8-%E5%9B%9B%E5%A4%A7%E5%86%85%E7%BD%AE%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3%E8%AF%A6%E8%A7%A3/">java8—四大内置核心函数式接口详解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://blog.scarboroughcoral.top/" title="scarboroughcoral" target="_blank">scarboroughcoral</a><ul></ul><a href="http://blog.wangxuyao.club/" title="冰冰冰淇淋君icecream" target="_blank">冰冰冰淇淋君icecream</a><ul></ul><a target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">frozeNwInd.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>